<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCDS</title>
    <link rel="stylesheet" href="css/app.css">

      <style>
          .completed{
              text-decoration: line-through;
          }
      </style>
  </head>
  <body>
	  
<!-- top bar -->
<div class="top-bar">
  <div class="top-bar-left">
    <ul class="dropdown menu" data-dropdown-menu>
      <li class="menu-text">Site Title</li>
      <li class="has-submenu">
        <a href="#">One</a>
        <ul class="submenu menu vertical" data-submenu>
          <li><a href="#">One</a></li>
          <li><a href="#">Two</a></li>
          <li><a href="#">Three</a></li>
        </ul>
      </li>
      <li><a href="#">Two</a></li>
      <li><a href="#">Three</a></li>
    </ul>
  </div>
  <div class="top-bar-right">
    <ul class="menu">
      <li><input type="search" placeholder="Search"></li>
      <li><button type="button" class="button">Search</button></li>
    </ul>
  </div>
</div>


<br>
<br>





    <div class="row">
        <div class="columns small-12">




            <div id="app">


                <tasks :list="tasks"></tasks>


            </div>


            <template id="tasks-template">
                <h1>Hello there tasks ( {{ remaining }} )</h1>
            <ul>
                <li  :class="{'completed':task.completed}" v-for="task in list" @click="task.completed = ! task.completed">
                    {{ task.body }}
                    <strong @click="deleteTask(task)">X</strong>
                </li>
            </ul>
            </template>



        </div>
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.13/vue.js"></script>

    <script>

        Vue.component('tasks',{
            props:['list'],
            template:'#tasks-template',
            computed: {
                remaining: function() {
                    return  this.list.filter(this.inProgress(tasks)).length;
//                    return 5;
                }
            },
            methods:{
                isCompleted: function(task){
                    return task.completed;
                },
                inProgress: function(task){
                    return ! this.isCompleted(task);
                },
                deleteTask: function(task){
                    this.list.$remove(task);
                }
            }
        });

        var app = new Vue({
            el: '#app',
            data: {
                selected: '',
                tasks: [
                    { body:'go to the store', completed: false},
                    { body:'go to the bar', completed: false},
                    { body:'go to the bank', completed: true},
                    { body:'do something cool', completed: true}
                ]
            },

        });



    </script>
  </body>
</html>